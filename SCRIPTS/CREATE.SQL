CREATE USER fitucab PASSWORD 'fitucab';
ALTER ROLE fitucab WITH SUPERUSER;
CREATE DATABASE FitUcabDB WITH OWNER fitucab;

---MODULO 1---
CREATE TABLE PERSON(

PERSONID		serial  not null,
PERSONUSERNAME	varchar(20) not null,
PERSONPASSWORD	varchar(8) not null,
PERSONEMAIL	varchar(30) not null,
PERSONSEX		varchar(20) not null,
PERSONPHONE	varchar(20) not null,
constraint PK_PERSONID primary key (PERSONID)
);

CREATE TABLE REGISTRY (

REGISTRYID 	integer not null,
REGISTRYWEIGHT	integer not null,
REGISTRYHEIGHT	varchar(20) not null,
REGISTRYPOINT	integer not null,
FK_PERSONID	integer not null,
constraint PK_REGISTRYID primary key (REGISTRYID)

);
---TERMINA MODULO 1---

---MODULO 10---

CREATE TYPE WATERGLASS AS ENUM('250', '300', '350', '500', '550', '600', '650', '700');

CREATE TABLE GLASS(

GLASSID     INTEGER		NOT NULL,
GLASSTYPE	WATERGLASS,

CONSTRAINT PK_GLASS PRIMARY KEY (GLASSID)
);


CREATE TABLE GLASS_HISTORIC(

GLASSHISTORICID     INTEGER      NOT NULL,
GLASSTIME           TIMESTAMP    NOT NULL,
FK_GLASS			INTEGER,
FK_PERSON			INTEGER,

CONSTRAINT PK_HISCTORIC PRIMARY KEY (GLASSHISTORICID)

);




ALTER TABLE GLASS_HISTORIC
ADD CONSTRAINT FK_GLASS
FOREIGN KEY (FK_GLASS)
REFERENCES GLASS(GLASSID);


ALTER TABLE GLASS_HISTORIC
ADD CONSTRAINT FK_PERSON
FOREIGN KEY (FK_PERSON)
REFERENCES PERSON(PERSONID);



---TERMINA MODULO 10---