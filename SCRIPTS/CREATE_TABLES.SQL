DROP TABLE IF EXISTS PERSON;
DROP TABLE IF EXISTS REGISTRY;
DROP TABLE IF EXISTS NOTIFICATION_SETTINGS;

CREATE TABLE PERSON(

PERSONID		serial  primary key,
PERSONUSERNAME	varchar(20) unique not null,
PERSONPASSWORD	varchar(8) not null,
PERSONEMAIL	varchar(30) not null,
PERSONSEX		varchar(20) not null,
PERSONPHONE	varchar(20) not null,
PERSONBIRTHDATE date not null
);

CREATE TABLE REGISTRY (

REGISTRYID 	serial primary key,
REGISTRYWEIGHT	real not null,
REGISTRYHEIGHT	real not null,
REGISTRYPOINT	integer,
FK_PERSONID	integer not null
);


--MODULO 3--
 
CREATE TABLE STATUS(
 
STATUSID		serial  primary key,
STATUSPENDING	integer,
STATUSACCEPTED	integer,
STATUSBLOCKED	integer,
STATUSDECLINE	integer
);
 
CREATE TABLE FRIENDSHIP(
FRIENDSHIPID                       serial  primary key,
FK_PERSONONEID		integer,
FK_PERSONTWOID	            integer,
FK_STATUSID                       integer,
FRIENDSHIPUSERACTIVITY	integer
);

CREATE TABLE GEO(
GEOID		serial  primary key,
FK_PERSONID		integer,
GEOLONGITUD	varchar(30) not null,
GEOLATITUD	varchar(30) not null
);




INSERT INTO public.status(statusid, statuspending, statusaccepted, statusblocked, statusdecline)
VALUES (1, 1,0, 0,0),(2,0,1,0,0),(3,0,0,1,0),(4,0,0,0,1);
--TERMINA MODULO 3--




--MODULO 5--

CREATE TABLE SPORT (

	SPORTID			NUMERIC NOT NULL PRIMARY KEY,
	SPORTNAME			VARCHAR(50) NOT NULL,
	SPORTMET			NUMERIC
	);
CREATE SEQUENCE SPORTID;



CREATE TABLE EXERCISE(
	EXERCISEID			INTEGER NOT NULL PRIMARY KEY,
	FK_SPORT			INTEGER,
	FK_PERSON			INTEGER
);
CREATE SEQUENCE EXERCISEID;

CREATE TABLE ACTIVITY(

	ACTIVITYID			 INTEGER NOT NULL PRIMARY KEY,
	ACTIVITYSTARTTIME	 TIME,
	ACTIVITYENDTIME		 TIME,
	ACTIVITYDATE		 DATE,
	ACTIVITYKM			 NUMERIC NOT NULL,
	ACTIVITYCALOR		 NUMERIC,
	ACTIVITYSTARTSITE	 VARCHAR(200),
	ACTIVITYENDSITE		 VARCHAR(200),
	FK_REGISTRY	 		INTEGER,
	FK_SPORT			INTEGER,
	FK_TRAINING			INTEGER,
	FK_EXERCISE			INTEGER
);
CREATE SEQUENCE ACTIVITYID;

-- TERMINA MODULO 5--

--MODULO 4--
CREATE TABLE NOTIFICATION_SETTINGS(

NOTIFICATIONSETTINGSID		serial  primary key,
PREFERENCEFRIENDS		boolean not null,
PREFERENCEACTIVITY		boolean not null,
PREFERENCETRAINING		boolean not null,
PREFERENCECHALLENGES	boolean not null,
PREFERENCEHYDRATION	boolean not null,
PREFERENCECALORIES		boolean not null,
PREFERENCEGAMIFICATION	boolean not null,
PREFERENCELANGUAGE		varchar(2) not null,
PREFERENCEUNIT varchar(2) not null,
PREFERENCERADIUS integer not null,
FK_PERSON		integer not null
);
--TERMINA MODULO 4--
